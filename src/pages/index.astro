---
import Framework from "../layouts/Framework.astro";
import { indexParser } from "../components/Parsers.js"
import { indexFetcher } from '../components/Fetchers.js'
import TOC from "../components/TOC.astro"

const data = await indexFetcher();
const parsedData = indexParser(data.results);
---

<Framework>
<div class="container text-start">
{
    parsedData.map((item) => <TOC title={item.title} date={item.date} time={item.time} id={item.id}></TOC>)
}
</div>
</Framework>